import{i as z,a as ae,n as k,t as A,b as D,c as re,d as se,e as _,f as V,w as ne}from"./base.2ef4f940.js";import{L as E,j as X,r as v,e as $,M as I,O as ie,P as ue,Q as Y,o as H,s as K,q as U,k as ce,v as ve,i as L,R as B,n as R,T as fe,S as de,g as me,U as pe,V as be,m as he,h as q,W as we,x as ge,F as ye,p as F,X as Se}from"./vendor.1cb32672.js";function G(e){var t;const l=X(e);return(t=l==null?void 0:l.$el)!=null?t:l}const W=z?window:void 0;z&&window.document;z&&window.navigator;z&&window.location;function N(...e){let t,l,a,i;if(ae(e[0])?([l,a,i]=e,t=W):[t,l,a,i]=e,!t)return k;let o=k;const n=E(()=>X(t),f=>{o(),!!f&&(f.addEventListener(l,a,i),o=()=>{f.removeEventListener(l,a,i),o=k})},{immediate:!0,flush:"post"}),u=()=>{n(),o()};return A(u),u}const Q="__vueuse_ssr_handlers__";globalThis[Q]=globalThis[Q]||{};function Ve(e,t,{window:l=W}={}){const a=v(""),i=$(()=>{var o;return G(t)||((o=l==null?void 0:l.document)==null?void 0:o.documentElement)});return E(i,o=>{o&&l&&(a.value=l.getComputedStyle(o).getPropertyValue(e))},{immediate:!0}),E(a,o=>{var n;((n=i.value)==null?void 0:n.style)&&i.value.style.setProperty(e,o)}),a}var J=Object.getOwnPropertySymbols,ze=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,$e=(e,t)=>{var l={};for(var a in e)ze.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(e!=null&&J)for(var a of J(e))t.indexOf(a)<0&&Ee.call(e,a)&&(l[a]=e[a]);return l};function Pe(e,t,l={}){const a=l,{window:i=W}=a,o=$e(a,["window"]);let n;const u=i&&"ResizeObserver"in i,f=()=>{n&&(n.disconnect(),n=void 0)},s=E(()=>G(e),m=>{f(),u&&i&&m&&(n=new i.ResizeObserver(t),n.observe(m,o))},{immediate:!0,flush:"post"}),b=()=>{f(),s()};return A(b),{isSupported:u,stop:b}}var Z,x;z&&(window==null?void 0:window.navigator)&&((Z=window==null?void 0:window.navigator)==null?void 0:Z.platform)&&/iP(ad|hone|od)/.test((x=window==null?void 0:window.navigator)==null?void 0:x.platform);var Oe=Object.defineProperty,ee=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,te=(e,t,l)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Te=(e,t)=>{for(var l in t||(t={}))_e.call(t,l)&&te(e,l,t[l]);if(ee)for(var l of ee(t))He.call(t,l)&&te(e,l,t[l]);return e};const Ce={top:0,left:0,bottom:0,right:0,height:0,width:0};Te({text:""},Ce);const le=Symbol("scrollbarContextKey"),ke={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Le=({move:e,size:t,bar:l})=>({[l.size]:t,transform:`translate${l.axis}(${e}%)`}),Be=D({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),oe="Bar";var j=I({name:oe,props:Be,setup(e){const t=ie(le);t||re(oe,"can not inject scrollbar context");const l=v(),a=v(),i=v({}),o=v(!1);let n=!1,u=!1,f=null;const s=$(()=>ke[e.vertical?"vertical":"horizontal"]),b=$(()=>Le({size:e.size,move:e.move,bar:s.value})),m=$(()=>l.value[s.value.offset]**2/t.wrapElement[s.value.scrollSize]/e.ratio/a.value[s.value.offset]),y=r=>{var c;if(r.stopPropagation(),r.ctrlKey||[1,2].includes(r.button))return;(c=window.getSelection())==null||c.removeAllRanges(),T(r);const d=r.currentTarget;!d||(i.value[s.value.axis]=d[s.value.offset]-(r[s.value.client]-d.getBoundingClientRect()[s.value.direction]))},p=r=>{if(!a.value||!l.value||!t.wrapElement)return;const c=Math.abs(r.target.getBoundingClientRect()[s.value.direction]-r[s.value.client]),d=a.value[s.value.offset]/2,h=(c-d)*100*m.value/l.value[s.value.offset];t.wrapElement[s.value.scroll]=h*t.wrapElement[s.value.scrollSize]/100},T=r=>{r.stopImmediatePropagation(),n=!0,document.addEventListener("mousemove",P),document.addEventListener("mouseup",S),f=document.onselectstart,document.onselectstart=()=>!1},P=r=>{if(!l.value||!a.value||n===!1)return;const c=i.value[s.value.axis];if(!c)return;const d=(l.value.getBoundingClientRect()[s.value.direction]-r[s.value.client])*-1,h=a.value[s.value.offset]-c,g=(d-h)*100*m.value/l.value[s.value.offset];t.wrapElement[s.value.scroll]=g*t.wrapElement[s.value.scrollSize]/100},S=()=>{n=!1,i.value[s.value.axis]=0,document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",S),document.onselectstart=f,u&&(o.value=!1)},C=()=>{u=!1,o.value=!!e.size},w=()=>{u=!0,o.value=n};return ue(()=>document.removeEventListener("mouseup",S)),N(Y(t,"scrollbarElement"),"mousemove",C),N(Y(t,"scrollbarElement"),"mouseleave",w),{instance:l,thumb:a,bar:s,thumbStyle:b,visible:o,clickTrackHandler:p,clickThumbHandler:y}}});function Re(e,t,l,a,i,o){return H(),K(fe,{name:"el-scrollbar-fade"},{default:U(()=>[ce(L("div",{ref:"instance",class:R(["el-scrollbar__bar","is-"+e.bar.key]),onMousedown:t[1]||(t[1]=(...n)=>e.clickTrackHandler&&e.clickTrackHandler(...n))},[L("div",{ref:"thumb",class:"el-scrollbar__thumb",style:B(e.thumbStyle),onMousedown:t[0]||(t[0]=(...n)=>e.clickThumbHandler&&e.clickThumbHandler(...n))},null,36)],34),[[ve,e.always||e.visible]])]),_:1})}j.render=Re;j.__file="packages/components/scrollbar/src/bar.vue";const We=D({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:se([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}}),Ne={scroll:({scrollTop:e,scrollLeft:t})=>_(e)&&_(t)};var M=I({name:"ElScrollbar",components:{Bar:j},props:We,emits:Ne,setup(e,{emit:t}){let l,a;const i=v(),o=v(),n=v(),u=v("0"),f=v("0"),s=v(0),b=v(0),m=v(1),y=v(1),p=4,T=$(()=>{const r={};return e.height&&(r.height=V(e.height)),e.maxHeight&&(r.maxHeight=V(e.maxHeight)),[e.wrapStyle,r]}),P=()=>{if(o.value){const r=o.value.offsetHeight-p,c=o.value.offsetWidth-p;b.value=o.value.scrollTop*100/r*m.value,s.value=o.value.scrollLeft*100/c*y.value,t("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft})}},S=r=>{!_(r)||(o.value.scrollTop=r)},C=r=>{!_(r)||(o.value.scrollLeft=r)},w=()=>{if(!o.value)return;const r=o.value.offsetHeight-p,c=o.value.offsetWidth-p,d=r**2/o.value.scrollHeight,h=c**2/o.value.scrollWidth,g=Math.max(d,e.minSize),O=Math.max(h,e.minSize);m.value=d/(r-d)/(g/(r-g)),y.value=h/(c-h)/(O/(c-O)),f.value=g+p<r?`${g}px`:"",u.value=O+p<c?`${O}px`:""};return E(()=>e.noresize,r=>{r?(l==null||l(),a==null||a()):({stop:l}=Pe(n,w),a=N("resize",w))},{immediate:!0}),de(le,me({scrollbarElement:i,wrapElement:o})),pe(()=>{e.native||be(()=>w())}),{scrollbar$:i,wrap$:o,resize$:n,moveX:s,moveY:b,ratioX:y,ratioY:m,sizeWidth:u,sizeHeight:f,style:T,update:w,handleScroll:P,setScrollTop:S,setScrollLeft:C}}});const je={ref:"scrollbar$",class:"el-scrollbar"};function Me(e,t,l,a,i,o){const n=he("bar");return H(),q("div",je,[L("div",{ref:"wrap$",class:R([e.wrapClass,"el-scrollbar__wrap",e.native?"":"el-scrollbar__wrap--hidden-default"]),style:B(e.style),onScroll:t[0]||(t[0]=(...u)=>e.handleScroll&&e.handleScroll(...u))},[(H(),K(ge(e.tag),{ref:"resize$",class:R(["el-scrollbar__view",e.viewClass]),style:B(e.viewStyle)},{default:U(()=>[we(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?Se("v-if",!0):(H(),q(ye,{key:0},[F(n,{move:e.moveX,ratio:e.ratioX,size:e.sizeWidth,always:e.always},null,8,["move","ratio","size","always"]),F(n,{move:e.moveY,ratio:e.ratioY,size:e.sizeHeight,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))],512)}M.render=Me;M.__file="packages/components/scrollbar/src/scrollbar.vue";const Xe=ne(M);export{Xe as E,N as a,Pe as b,Ve as u};
//# sourceMappingURL=el-scrollbar.466a8340.js.map
