import{i as q,f as W,t as G,h as y}from"./base.4c686669.js";import{A as M,r as c,z as D,b as H,I as j,J as X,o as L,p as Y,m as O,i as J,v as K,g as A,_ as N,n as P,T as Q,S as V,V as Z,D as x,B as ee,k as se,f as U,O as te,q as ae,F as le,l as F,R as oe}from"./vendor.b87794c8.js";const E=function(e){return(e||"").split(" ").filter(s=>!!s.trim())},k=function(e,s,a,l=!1){e&&s&&a&&(e==null||e.addEventListener(s,a,l))},w=function(e,s,a,l=!1){e&&s&&a&&(e==null||e.removeEventListener(s,a,l))};function ge(e,s){if(!e)return;let a=e.getAttribute("class")||"";const l=E(a),n=(s||"").split(" ").filter(t=>!l.includes(t)&&!!t.trim());e.classList?e.classList.add(...n):(a+=` ${n.join(" ")}`,e.setAttribute("class",a))}function pe(e,s){if(!e||!s)return;const a=E(s);let l=e.getAttribute("class")||"";if(e.classList){e.classList.remove(...a);return}a.forEach(t=>{l=l.replace(` ${t} `," ")});const n=E(l).join(" ");e.setAttribute("class",n)}const ze=e=>e.stopPropagation(),re=function(e){for(const s of e){const a=s.target.__resizeListeners__||[];a.length&&a.forEach(l=>{l()})}},ne=function(e,s){q||!e||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new ResizeObserver(re),e.__ro__.observe(e)),e.__resizeListeners__.push(s))},ie=function(e,s){var a;!e||!e.__resizeListeners__||(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(s),1),e.__resizeListeners__.length||(a=e.__ro__)==null||a.disconnect())},ce={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function ue({move:e,size:s,bar:a}){const l={},n=`translate${a.axis}(${e}%)`;return l[a.size]=s,l.transform=n,l.msTransform=n,l.webkitTransform=n,l}var R=M({name:"Bar",props:{vertical:Boolean,size:String,move:Number,ratio:Number,always:Boolean},setup(e){const s=c(null),a=c(null),l=D("scrollbar",{}),n=D("scrollbar-wrap",{}),t=H(()=>ce[e.vertical?"vertical":"horizontal"]),u=c({}),r=c(null),g=c(null),h=c(!1);let p=null;const v=H(()=>s.value[t.value.offset]**2/n.value[t.value.scrollSize]/e.ratio/a.value[t.value.offset]),T=i=>{i.stopPropagation(),!(i.ctrlKey||[1,2].includes(i.button))&&(window.getSelection().removeAllRanges(),C(i),u.value[t.value.axis]=i.currentTarget[t.value.offset]-(i[t.value.client]-i.currentTarget.getBoundingClientRect()[t.value.direction]))},$=i=>{const m=Math.abs(i.target.getBoundingClientRect()[t.value.direction]-i[t.value.client]),b=a.value[t.value.offset]/2,B=(m-b)*100*v.value/s.value[t.value.offset];n.value[t.value.scroll]=B*n.value[t.value.scrollSize]/100},C=i=>{i.stopImmediatePropagation(),r.value=!0,k(document,"mousemove",f),k(document,"mouseup",_),p=document.onselectstart,document.onselectstart=()=>!1},f=i=>{if(r.value===!1)return;const m=u.value[t.value.axis];if(!m)return;const b=(s.value.getBoundingClientRect()[t.value.direction]-i[t.value.client])*-1,B=a.value[t.value.offset]-m,I=(b-B)*100*v.value/s.value[t.value.offset];n.value[t.value.scroll]=I*n.value[t.value.scrollSize]/100},_=()=>{r.value=!1,u.value[t.value.axis]=0,w(document,"mousemove",f),w(document,"mouseup",_),document.onselectstart=p,g.value&&(h.value=!1)},o=H(()=>ue({size:e.size,move:e.move,bar:t.value})),d=()=>{g.value=!1,h.value=!!e.size},z=()=>{g.value=!0,h.value=r.value};return j(()=>{k(l.value,"mousemove",d),k(l.value,"mouseleave",z)}),X(()=>{w(document,"mouseup",_),w(l.value,"mousemove",d),w(l.value,"mouseleave",z)}),{instance:s,thumb:a,bar:t,clickTrackHandler:$,clickThumbHandler:T,thumbStyle:o,visible:h}}});function ve(e,s,a,l,n,t){return L(),Y(Q,{name:"el-scrollbar-fade"},{default:O(()=>[J(A("div",{ref:"instance",class:P(["el-scrollbar__bar","is-"+e.bar.key]),onMousedown:s[1]||(s[1]=(...u)=>e.clickTrackHandler&&e.clickTrackHandler(...u))},[A("div",{ref:"thumb",class:"el-scrollbar__thumb",style:N(e.thumbStyle),onMousedown:s[0]||(s[0]=(...u)=>e.clickThumbHandler&&e.clickThumbHandler(...u))},null,36)],34),[[K,e.always||e.visible]])]),_:1})}R.render=ve;R.__file="packages/components/scrollbar/src/bar.vue";var S=M({name:"ElScrollbar",components:{Bar:R},props:{height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}},emits:["scroll"],setup(e,{emit:s}){const a=c("0"),l=c("0"),n=c(0),t=c(0),u=c(null),r=c(null),g=c(null),h=c(1),p=c(1),v=4;V("scrollbar",u),V("scrollbar-wrap",r);const T=()=>{if(r.value){const o=r.value.offsetHeight-v,d=r.value.offsetWidth-v;t.value=r.value.scrollTop*100/o*h.value,n.value=r.value.scrollLeft*100/d*p.value,s("scroll",{scrollTop:r.value.scrollTop,scrollLeft:r.value.scrollLeft})}},$=o=>{!W(o)||(r.value.scrollTop=o)},C=o=>{!W(o)||(r.value.scrollLeft=o)},f=()=>{if(!r.value)return;const o=r.value.offsetHeight-v,d=r.value.offsetWidth-v,z=o**2/r.value.scrollHeight,i=d**2/r.value.scrollWidth,m=Math.max(z,e.minSize),b=Math.max(i,e.minSize);h.value=z/(o-z)/(m/(o-m)),p.value=i/(d-i)/(b/(d-b)),l.value=m+v<o?`${m}px`:"",a.value=b+v<d?`${b}px`:""},_=H(()=>{let o=e.wrapStyle;return x(o)?(o=G(o),o.height=y(e.height),o.maxHeight=y(e.maxHeight)):ee(o)&&(o+=y(e.height)?`height: ${y(e.height)};`:"",o+=y(e.maxHeight)?`max-height: ${y(e.maxHeight)};`:""),o});return j(()=>{e.native||Z(f),e.noresize||(ne(g.value,f),addEventListener("resize",f))}),X(()=>{e.noresize||(ie(g.value,f),removeEventListener("resize",f))}),{moveX:n,moveY:t,ratioX:p,ratioY:h,sizeWidth:a,sizeHeight:l,style:_,scrollbar:u,wrap:r,resize:g,update:f,handleScroll:T,setScrollTop:$,setScrollLeft:C}}});const fe={ref:"scrollbar",class:"el-scrollbar"};function de(e,s,a,l,n,t){const u=se("bar");return L(),U("div",fe,[A("div",{ref:"wrap",class:P([e.wrapClass,"el-scrollbar__wrap",e.native?"":"el-scrollbar__wrap--hidden-default"]),style:N(e.style),onScroll:s[0]||(s[0]=(...r)=>e.handleScroll&&e.handleScroll(...r))},[(L(),Y(ae(e.tag),{ref:"resize",class:P(["el-scrollbar__view",e.viewClass]),style:N(e.viewStyle)},{default:O(()=>[te(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?oe("v-if",!0):(L(),U(le,{key:0},[F(u,{move:e.moveX,ratio:e.ratioX,size:e.sizeWidth,always:e.always},null,8,["move","ratio","size","always"]),F(u,{move:e.moveY,ratio:e.ratioY,size:e.sizeHeight,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64))],512)}S.render=de;S.__file="packages/components/scrollbar/src/index.vue";S.install=e=>{e.component(S.name,S)};const me=S,ye=me;export{ye as E,ge as a,w as b,k as o,pe as r,ze as s};
